<div fxLayout="row wrap" class="parent" fxLayout.lg="row " fxLayout.md="row" fxLayout.sm="column" fxLayout.xs="column">

    <div fxFlex="10%" class="left">
    </div>
    <div fxFlex="80%" class="middle">
        <div class="pageHeader">
            Apply - Job
        </div>
        <div>
            <h3 *ngIf="apiResponse">
                <span [style.color]="responseColor">
                    {{apiResponse}}
                </span>
                <hr />
            </h3>
            <h3 *ngIf="errors && errors.length>0">
                <ul [style.color]="responseColor">
                    <li *ngFor="let error of errors">
                        {{ error }}
                    </li>
                </ul>
                <hr />
            </h3>
        </div>
        <form [formGroup]="applyToJobForm">
            <div fxLayout="row" class="parent" fxLayout.lg="row " fxLayout.md="row" fxLayout.sm="column" fxLayout.xs="column">
                <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="100%" class="mainContentLeft">
                    <mat-card class="mat-elevation-z4">
                        <mat-card-content>
                            <mat-form-field>
                                <input matInput type="text" 
                                    placeholder="Company-Name" 
                                    formControlName="companyName"
                                    id="companyName">
                            </mat-form-field>                     
                            <p></p>
                            <mat-form-field>
                                <input matInput type="text" 
                                    placeholder="Agency-Name" 
                                    formControlName="agencyName" id="agencyName">
                            </mat-form-field>                         
                            <p></p>
                            <mat-form-field>
                                <input matInput type="text" 
                                    placeholder="Web-URL" 
                                    formControlName="webURL"
                                    id="webURL">                                
                            </mat-form-field>                        
                            <p></p>
                            <mat-form-field>
                                <input matInput type="text" 
                                    placeholder="Contact-Person's Name" 
                                    formControlName="contactPersonName" 
                                    id="contactPersonName">                                
                                <mat-error *ngIf="hasError('contactPersonName', 'required')">Contact-Person's Name is required</mat-error>                                
                            </mat-form-field>                         
                            <p></p>
                        </mat-card-content>
                    </mat-card>

                </div>

                <div fxFlex="50%" fxFlex.xs="100%" fxFlex.sm="100%" fxFlex.md="100%" class="mainContentRight">
                    <mat-card class="mat-elevation-z4">
                        <mat-card-content>
                            <mat-form-field>
                                <input matInput type="text" 
                                    placeholder="Contact-E-mail" 
                                    formControlName="contactEmail" 
                                    id="contactEmail">
                                <mat-error 
                                    *ngIf="hasError('contactEmail', 'required')">Email is required</mat-error>
                                <mat-error 
                                    *ngIf="hasError('contactEmail', 'pattern')">Invalid Email</mat-error>
                            </mat-form-field>   
                            <p></p>                       
                            <mat-form-field>
                                <input matInput type="text" 
                                    placeholder="Phone Number" 
                                    formControlName="phoneNumber" 
                                    id="phoneNumber">                                
                                <mat-error *ngIf="hasError('phoneNumber', 'pattern')">Invalid Phone Number</mat-error>
                            </mat-form-field>
                            <p></p>


                            <div fxLayout="row wrap" class="parent" fxLayout.lg="row " fxLayout.md="row" fxLayout.sm="column" fxLayout.xs="column">
                                <div fxFlex="50%">
                                    <mat-form-field [style.width.px]=200 class="form-field small-form-field" appearance="fill">
                                        <mat-label>Province</mat-label>
                                        <select 
                                            matNativeControl 
                                            (change)="changeProvince($event)" 
                                            formControlName="province">
                                            <option value="">Choose Province</option>
                                            <option *ngFor="let p of provinceCollection">
                                                {{p}}
                                            </option>
                                        </select>    
                                        <mat-error
                                            *ngIf="hasError('province', 'required')">
                                                Province is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div fxFlex="50%">
                                    <mat-form-field [style.width.px]=200 class="form-field small-form-field" appearance="fill">
                                        <mat-label>City</mat-label>
                                        <select 
                                            matNativeControl 
                                            formControlName="city">
                                            <option value="">Choose City</option>
                                            <option *ngFor="let c of cityCollection">
                                                {{c}}
                                            </option>
                                        </select>
                                        <mat-error *ngIf="hasError('city', 'required')">
                                            City is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <p></p>
                            <mat-form-field 
                                class="form-field" 
                                appearance="outline">
                                <mat-label> Applied On
                                </mat-label>
                                <input 
                                    matInput 
                                    formControlName="appliedOn" 
                                    [matDatepicker]="picker">
                                <mat-datepicker-toggle matSuffix [for]="picker">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>   
                                <mat-error *ngIf="hasError('appliedOn', 'required')">
                                    Applied-On is required
                                </mat-error>
                            </mat-form-field>
                        </mat-card-content>
                    </mat-card>
                </div>

            </div>
            <p></p>
            <div class="centerDiv">
                <button 
                    (click)="applyToJob()" 
                    class="apply-to-job-button" 
                    mat-raised-button color="primary" 
                    type="button">
                        Apply Now!
                </button>
            </div>
        </form>
    </div>
</div>